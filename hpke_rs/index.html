<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Hybrid Public Key Encryption (HPKE)."><meta name="keywords" content="rust, rustlang, rust-lang, hpke_rs"><title>hpke_rs - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg"><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../hpke_rs/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Crate hpke_rs</h2><div class="block version"><div class="narrow-helper"></div><p>Version 0.0.11</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all hpke_rs's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#types">Type Definitions</a></li></ul></div><div id="sidebar-vars" data-name="hpke_rs" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input"name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">hpke_rs</a><button id="copy-path" onclick="copy_path(this)" title="copy path"><img src="../clipboard.svg" width="19" height="18" alt="Copy item import" title="Copy item import to clipboard"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/hpke_rs/lib.rs.html#1-978" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h1 id="hybrid-public-key-encryption-hpke" class="section-header"><a href="#hybrid-public-key-encryption-hpke">Hybrid Public Key Encryption (HPKE).</a></h1>
<p><a href="https://cfrg.github.io/draft-irtf-cfrg-hpke/draft-irtf-cfrg-hpke.html">https://cfrg.github.io/draft-irtf-cfrg-hpke/draft-irtf-cfrg-hpke.html</a></p>
<p>From the RFC:</p>
<blockquote>
<p>This scheme provides a variant of public-key encryption of arbitrary-sized plaintexts for a recipient public key. It also includes three authenticated variants, including one which authenticates possession of a pre-shared key, and two optional ones which authenticate possession of a KEM private key.</p>
</blockquote>
<h2 id="cryptographic-provider" class="section-header"><a href="#cryptographic-provider">Cryptographic Provider</a></h2>
<p>This crate does not implement its own cryptographic primitives.
Instead it uses cryptographic libraries or provider that implement the necessary
primitives.</p>
<h3 id="evercrypt" class="section-header"><a href="#evercrypt">Evercrypt</a></h3>
<p>This is the default provider.
Here we use the <a href="https://github.com/franziskuskiefer/evercrypt-rust/">Evercrypt Rust</a>
bindings for the formally verified cryptography library <a href="https://github.com/project-everest/hacl-star">Evercrypt</a>.</p>
<h3 id="rust-crypto" class="section-header"><a href="#rust-crypto">Rust Crypto</a></h3>
<p>In order to use native rust crypto,
i.e. <a href="https://docs.rs/hkdf/">hkdf</a>, <a href="https://docs.rs/sha2">sha2</a>, <a href="https://docs.rs/p256">p256</a>, <a href="https://docs.rs/p384">p384</a>, <a href="https://docs.rs/x25519-dalek-ng">x25519-dalek-ng</a>, <a href="https://docs.rs/chacha20poly1305">chacha20poly1305</a>, <a href="https://docs.rs/aes-gcm">aes-gcm</a>,
the default features have to disabled and the <code>rust-crypto</code> feature has to be enabled.</p>

<div class='information'><div class='tooltip ignore'>ⓘ</div></div><div class="example-wrap"><pre class="rust rust-example-rendered ignore">
<span class="ident">cargo</span> <span class="ident">build</span> <span class="op">-</span><span class="op">-</span><span class="ident">no</span><span class="op">-</span><span class="ident">default</span><span class="op">-</span><span class="ident">features</span> <span class="op">-</span><span class="op">-</span><span class="ident">features</span><span class="op">=</span><span class="string">&quot;rust-crypto&quot;</span></pre></div>
<h2 id="supported-algorithms" class="section-header"><a href="#supported-algorithms">Supported algorithms</a></h2>
<p>Key encapsulation Mechanisms</p>
<ul>
<li>P-256</li>
<li>P-384 (rust-crypto only)</li>
<li>X25519</li>
</ul>
<p>Key derivation functions</p>
<ul>
<li>HKDF-SHA256</li>
<li>HKDF-SHA384</li>
<li>HKDF-SHA512</li>
</ul>
<p>AEADs</p>
<ul>
<li>AES-GCM-128</li>
<li>AES-GCM-256</li>
<li>ChaCha20Poly1305</li>
</ul>
<h2 id="a-note-on-randomness" class="section-header"><a href="#a-note-on-randomness">A note on randomness</a></h2>
<p>This crate either relies on the crypto provider to generate randomness or uses
<a href="https://rust-random.github.io/rand/rand_core/os/struct.OsRng.html" title="rand::rngs::OsRng"><code>rand::rngs::OsRng</code></a> for generating randomness.
The latter is cryptographically secure but not ideal because it taps into the
OS entropy source directly, which might block or return bad entropy when
queried too rapidly.
This should change in future.
See <a href="https://github.com/franziskuskiefer/hpke-rs/issues/25">#25</a> for more information.</p>
</div></details><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="mod" href="prelude/index.html" title="hpke_rs::prelude mod">prelude</a></div><div class="item-right docblock-short"><p>Prelude for HPKE.
Include this to get access to all the public functions of HPKE.</p>
</div><div class="item-left module-item"><a class="mod" href="test_util/index.html" title="hpke_rs::test_util mod">test_util</a></div><div class="item-right docblock-short"><p>Test util module. Should be moved really.</p>
</div></div><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="struct" href="struct.Context.html" title="hpke_rs::Context struct">Context</a></div><div class="item-right docblock-short"><p>The HPKE context.
Note that the RFC currently doesn’t define this.
Also see <a href="https://github.com/cfrg/draft-irtf-cfrg-hpke/issues/161">https://github.com/cfrg/draft-irtf-cfrg-hpke/issues/161</a>.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.Hpke.html" title="hpke_rs::Hpke struct">Hpke</a></div><div class="item-right docblock-short"><p>The HPKE configuration struct.
This holds the configuration for HPKE but no state.
To use HPKE first instantiate the configuration with
<code>let hpke = Hpke::new(mode, kem_mode, kdf_mode, aead_mode)</code>.
Now one can use the <code>hpke</code> configuration.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.HpkeKeyPair.html" title="hpke_rs::HpkeKeyPair struct">HpkeKeyPair</a></div><div class="item-right docblock-short"><p>An HPKE key pair has an HPKE private and public key.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.HpkePrivateKey.html" title="hpke_rs::HpkePrivateKey struct">HpkePrivateKey</a></div><div class="item-right docblock-short"><p>An HPKE private key is a byte vector.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.HpkePublicKey.html" title="hpke_rs::HpkePublicKey struct">HpkePublicKey</a></div><div class="item-right docblock-short"><p>An HPKE public key is a byte vector.</p>
</div></div><h2 id="enums" class="section-header"><a href="#enums">Enums</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="enum" href="enum.HpkeError.html" title="hpke_rs::HpkeError enum">HpkeError</a></div><div class="item-right docblock-short"><p>HPKE Error types.</p>
</div><div class="item-left module-item"><a class="enum" href="enum.Mode.html" title="hpke_rs::Mode enum">Mode</a></div><div class="item-right docblock-short"><p>HPKE supports four modes.</p>
</div></div><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="type" href="type.HPKEKeyPair.html" title="hpke_rs::HPKEKeyPair type">HPKEKeyPair</a><span class="stab deprecated" title="">Deprecated</span></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="type" href="type.HPKEPrivateKey.html" title="hpke_rs::HPKEPrivateKey type">HPKEPrivateKey</a><span class="stab deprecated" title="">Deprecated</span></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="type" href="type.HPKEPublicKey.html" title="hpke_rs::HPKEPublicKey type">HPKEPublicKey</a><span class="stab deprecated" title="">Deprecated</span></div><div class="item-right docblock-short"></div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="hpke_rs" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script>
</body></html>